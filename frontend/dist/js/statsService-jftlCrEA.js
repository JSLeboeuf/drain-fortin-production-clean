import{s as t}from"./supabase--zxEpOZW.js";import"./supabase-DcuI07gC.js";import"./react-vendor-C_mTfbPB.js";import"./index-CC77URC1.js";import"./ui-QtlX95wh.js";import"./utils-BHC4lWY-.js";async function e(){try{const{data:e}=await t.from("clients").select("*",{count:"exact"}),{data:a}=await t.from("clients").select("*",{count:"exact"}).eq("status","active"),s=(new Date).toISOString().split("T")[0],{data:r}=await t.from("interventions").select("*",{count:"exact"}).gte("scheduled_date",s),{data:n}=await t.from("sms_messages").select("status"),i=n?.length||0,o=n?.filter(t=>"delivered"===t.status).length||0,c=n?.filter(t=>"failed"===t.status).length||0;return{clients:{total:e?.length||0,active:a?.length||0,new:12},interventions:{today:r?.length||0,week:23,month:89},sms:{sent:i,delivered:o,failed:c},revenue:{month:45e3,year:38e4}}}catch(e){throw e}}async function a(){try{const{data:e,error:a}=await t.from("internal_alerts").select("*").eq("status","active").order("priority",{ascending:!0});if(a)throw a;return e||[]}catch(e){return[]}}export{a as getActiveAlerts,e as getDashboardStats};
