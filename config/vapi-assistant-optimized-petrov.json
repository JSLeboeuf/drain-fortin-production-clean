{
  "name": "Paul - Ultra-Optimized by Dr. Petrov",
  "model": {
    "provider": "openai",
    "model": "gpt-4o-mini",
    "messages": [
      {
        "role": "system",
        "content": "# SYSTÈME PAUL - OPTIMISÉ POUR LATENCE MINIMALE\n\n## RÈGLES CRITIQUES ANTI-LATENCE\n1. Réponses ULTRA-COURTES (max 15 mots)\n2. Pas de répétitions inutiles\n3. Direct au but, pas de fioritures\n4. Interruption permise = écoute active\n\n## FLOW OPTIMAL (TEMPS CIBLE: 30 SECONDES)\n1. Salutation: 2s\n2. Identification problème: 5s\n3. Validation service: 3s\n4. Prix: 3s\n5. Rendez-vous: 5s\n6. Collecte info: 10s\n7. Confirmation: 2s\n\n## SERVICES (RÉPONSE INSTANTANÉE)\n✅ OUI: Débouchage, Racines, Gainage, Drain français\n❌ NON: Fosses, Piscines, Gouttières → \"Désolé, on fait pas ça\"\n\n## PRIX (PRÉ-CALCULÉS)\n- Débouchage: \"trois cent cinquante à six cent cinquante dollars\"\n- Racines: \"quatre cent cinquante à sept cent cinquante dollars\"\n- Gainage: \"trois mille neuf cents à huit mille dollars\"\n- Drain: \"cinq cents à huit cents dollars par mètre\"\n\n## URGENCES (ACTION IMMÉDIATE)\nP1 (Inondation): \"J'envoie quelqu'un MAINTENANT\"\nP2 (Municipal): \"Maximum 2 heures\"\nP3 (Gros job): \"Dans l'heure\"\nP4 (Standard): \"Aujourd'hui\"\n\n## ANTI-SILENCE\n- Si client hésite > 2s: \"Vous êtes toujours là?\"\n- Si pas de réponse > 3s: \"Je peux vous aider?\"\n- Si confusion: \"C'est quoi votre problème exactement?\"\n\n## PRONONCIATION OPTIMISÉE\n- Prix: Toujours en lettres\n- Téléphones: Chiffre par chiffre avec pauses\n- Pas de \"euh\", \"alors\", \"donc\"\n- Direct: \"Oui\" ou \"Non\", pas \"Effectivement\""
      }
    ],
    "temperature": 0.5,
    "maxTokens": 80,
    "emotionRecognitionEnabled": false,
    "numFastTurns": 8
  },
  "voice": {
    "provider": "11labs-turbo",
    "voiceId": "pNInz6obpgDQGcFmaJgB",
    "model": "eleven_turbo_v2_5",
    "language": "fr",
    "stability": 0.5,
    "similarityBoost": 0.8,
    "style": 0,
    "useSpeakerBoost": false,
    "optimizeStreamingLatency": 4,
    "enableSsmlParsing": false,
    "chunkSize": 120,
    "streamingWordDelta": 40,
    "enableVoiceActivityDetection": true,
    "fallbackVoice": {
      "provider": "azure",
      "voiceId": "fr-CA-AntoineNeural",
      "rate": 1.15,
      "pitch": 0
    }
  },
  "transcriber": {
    "provider": "deepgram",
    "model": "nova-2-general",
    "language": "fr-CA",
    "smartFormat": false,
    "keywords": [
      "débouchage:3",
      "gainage:3",
      "drain:3",
      "urgence:5",
      "inondation:5",
      "refoulement:5"
    ],
    "interimResults": true,
    "endpointing": 250,
    "utteranceEndMs": 1000,
    "vadTurnoff": 500,
    "punctuate": false,
    "profanityFilter": false
  },
  "firstMessage": "Drain Fortin, c'est Paul. C'est quoi le problème?",
  "firstMessageMode": "assistant-speaks-first-with-model-generated-message",
  "hipaaEnabled": false,
  "clientMessages": [
    "transcript",
    "hang",
    "function-call",
    "speech-update",
    "metadata"
  ],
  "serverMessages": [
    "end-of-call-report",
    "status-update",
    "speech-update",
    "transcript"
  ],
  "responseDelaySeconds": 0.2,
  "llmRequestDelaySeconds": 0.1,
  "silenceTimeoutSeconds": 15,
  "maxDurationSeconds": 300,
  "backgroundSound": "off",
  "backchannelingEnabled": false,
  "backgroundDenoisingEnabled": true,
  "modelOutputInMessagesEnabled": false,
  "transportConfigurations": [
    {
      "provider": "twilio",
      "timeout": 20,
      "record": true,
      "recordingChannels": "dual",
      "inputAudioFormat": "pcmu",
      "outputAudioFormat": "pcmu",
      "inputSampleRate": 8000,
      "outputSampleRate": 8000
    }
  ],
  "endCallFunctionEnabled": true,
  "endCallMessage": "Parfait. On s'occupe de vous. Bye!",
  "endCallPhrases": [
    "au revoir",
    "bye",
    "parfait",
    "c'est tout"
  ],
  "voicemailDetection": {
    "provider": "twilio",
    "voicemailDetectionEnabled": true,
    "enabled": true,
    "machineDetectionTimeout": 3000,
    "machineDetectionSpeechThreshold": 2000,
    "machineDetectionSpeechEndThreshold": 1000,
    "machineDetectionSilenceTimeout": 5000
  },
  "messagePlan": {
    "idleMessages": [
      {
        "message": "Vous êtes là?",
        "condition": "{{silence_duration_seconds}} > 3"
      }
    ],
    "reEngagementMessages": [
      {
        "message": "Je peux prendre votre info?",
        "condition": "{{call_duration_seconds}} > 45 && !{{appointment_scheduled}}"
      }
    ]
  },
  "startSpeakingPlan": {
    "waitSeconds": 0.3,
    "smartEndpointingEnabled": true,
    "transcriptionEndpointingPlan": {
      "onPunctuationSeconds": 0.1,
      "onNoPunctuationSeconds": 0.5,
      "onNumberSeconds": 0.3
    }
  },
  "stopSpeakingPlan": {
    "numWords": 3,
    "voiceSeconds": 0.3,
    "backoffSeconds": 0.8
  },
  "monitorPlan": {
    "listenEnabled": false,
    "controlEnabled": false,
    "whisperEnabled": false
  },
  "credentialIds": [
    "{{VAPI_11LABS_API_KEY}}",
    "{{VAPI_OPENAI_API_KEY}}",
    "{{VAPI_DEEPGRAM_API_KEY}}"
  ],
  "serverUrl": "https://phiduqxcufdmgjvdipyu.supabase.co/functions/v1/vapi-webhook",
  "serverUrlSecret": "{{VAPI_WEBHOOK_SECRET}}",
  "analysisPlan": {
    "summaryPrompt": "2 phrases MAX: problème + action.",
    "structuredDataPrompt": "service,urgence,prix,ville,rdv_pris",
    "successEvaluationPrompt": "Succès = service validé + prix donné + (rdv pris OU urgence traitée)"
  },
  "artifactPlan": {
    "recordingEnabled": true,
    "videoRecordingEnabled": false,
    "transcriptPlan": {
      "enabled": true,
      "assistantName": "Paul",
      "userName": "Client"
    }
  },
  "messagePlan": {
    "idleTimeoutSeconds": 15,
    "idleMessages": [
      "Êtes-vous toujours là?",
      "Je peux vous aider?",
      "Allo?"
    ]
  },
  "name": "Paul - Production Ultra-Optimized"
}